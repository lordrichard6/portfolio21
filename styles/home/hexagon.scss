// stars
$starFieldWidth: 2560;
$starFieldHeight: 2560;
$starStartOffset: 600px;

$starOneScrollDuration: 100s;
$starTwoScrollDuration: 125s;
$starThreeScrollDuration: 175s;
$numStarOneStars: 1700;
$numStarTwoStars: 700;
$numStarThreeStars: 200;
$numComet: 10;

// ship and alien
$ship: #eee;
$alien: #1aae1e;
$gray: #aaa;
$timing: 12s;
$curve1: cubic-bezier(0.455, 0.03, 0.615, 0.555);
$curve2: cubic-bezier(0.645, 0.045, 0.355, 1);

.hexagon-container {
  display: block;
  position: relative;
  width: 1200px;
  height: 600px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  @media screen and (max-width: 764px) {
    width: 800px;
    height: 400px;
  }

  @function create-stars($n) {
    $stars: "#{random($starFieldWidth)}px #{random($starFieldHeight)}px #FFF";

    @for $i from 2 through $n {
      $stars: "#{$stars} , #{random($starFieldWidth)}px #{random($starFieldHeight)}px #FFF";
    }
    @return unquote($stars);
  }

  @mixin star-template($numStars, $starSize, $scrollSpeed) {
    z-index: 10;
    width: $starSize;
    height: $starSize;
    border-radius: 50%;
    background: transparent;
    box-shadow: create-stars($numStars);
    animation: animStar $scrollSpeed linear infinite;
    &:after {
      content: " ";
      top: -$starStartOffset;
      width: $starSize;
      height: $starSize;
      border-radius: 50%;
      position: absolute;
      background: transparent;
      box-shadow: create-stars($numStars);
    }
  }

  @mixin shooting-star-template($numStars, $starSize, $speed) {
    z-index: 10;
    width: $starSize;
    height: $starSize + 80px;
    border-top-left-radius: 50%;
    border-top-right-radius: 50%;
    position: absolute;
    bottom: 0;
    right: 0;
    background: linear-gradient(
      to top,
      rgba(255, 255, 255, 0),
      rgba(255, 255, 255, 1)
    );
    animation: animShootingStar $speed linear infinite;
  }

  .stars {
    @include star-template($numStarOneStars, 1px, $starOneScrollDuration);
  }
  .stars2 {
    @include star-template($numStarTwoStars, 2px, $starTwoScrollDuration);
  }
  .stars3 {
    @include star-template($numStarThreeStars, 3px, $starThreeScrollDuration);
  }
  .comet {
    @include shooting-star-template($numComet, 5px, 10s);
  }

  @keyframes animStar {
    from {
      transform: translateY(0px);
    }
    to {
      transform: translateY(-#{$starFieldHeight}px)
        translateX(-#{$starFieldWidth}px);
    }
  }

  @keyframes animShootingStar {
    from {
      transform: translateY(0px) translateX(0px) rotate(-45deg);
      opacity: 1;
      height: 5px;
    }
    to {
      transform: translateY(-#{$starFieldHeight}px)
        translateX(-#{$starFieldWidth}px) rotate(-45deg);
      opacity: 1;
      height: 800px;
    }
  }

  // MOON
  .moon {
    position: absolute;
    left: 40%;
    top: 40%;
    margin: -100px;
    width: 150px;
    height: 150px;
    background: #c7cbd0;
    border-radius: 50%;
    box-shadow: inset -25px 0px 0 0px #9098a1;
    transition: transform 0.2s ease-in-out;
    z-index: 5;
    @media screen and (max-width: 764px) {
      left: 50%;
      top: 50%;
      width: 100px;
      height: 100px;
      box-shadow: inset -16px 0px 0 0px #9098a1;
    }
  }
  
  // .moon:hover {
  //   transform: scale(1.2);
  // }
  
  li {
    position: absolute;
    list-style: none;
    background: #737277;
    border-radius: 50%;
  }
  li:nth-child(1) {
    left: 20px;
    top: 40px;
    width: 37.5px;
    height: 37.5px;
    box-shadow: inset 6px -2px 0 0px #414043;

    @media screen and (max-width: 764px) {
      width: 25px;
      height: 25px;
      left: 15px;
      top: 25px;
    }
  }
  li:nth-child(2) {
    left: 110px;
    top: 40px;
    width: 18.75px;
    height: 18.75px;
    box-shadow: inset 3px -1px 0 0px #414043;

    @media screen and (max-width: 764px) {
      width: 12.5px;
      height: 12.5px;
      left: 75px;
      top: 30px;
    }
  }
  
  li:nth-child(3) {
    left: 70px;
    top: 110px;
    width: 18.75px;
    height: 18.75px;
    box-shadow: inset 3px -1px 0 0px #414043;

    @media screen and (max-width: 764px) {
      width: 12.5px;
      height: 12.5px;
      left: 45px;
      top: 75px;
    }
  }
  
  li:nth-child(4) {
    left: 40px;
    top: 110px;
    width: 9.375px;
    height: 9.375px;
    box-shadow: inset 2.4px -0.8px 0 0px #414043;

    @media screen and (max-width: 764px) {
      width: 6.25px;
      height: 6.25px;
      left: 25px;
      top: 75px;
    }
  }
  
  li:nth-child(5) {
    left: 70.5px;
    top: 13.66666667px;
    width: 9.375px;
    height: 9.375px;
    box-shadow: inset 2.4px -0.8px 0 0px #414043;

    @media screen and (max-width: 764px) {
      width: 6.25px;
      height: 6.25px;
      left: 50px;
      top: 8px;
    }
  }
  
  li:nth-child(6) {
    left: 80px;
    top: 60px;
    width: 9.375px;
    height: 9.375px;
    box-shadow: inset 2.4px -0.8px 0 0px #414043;

    @media screen and (max-width: 764px) {
      width: 6.25px;
      height: 6.25px;
      left: 55px;
      top: 45px;
    }
  }
  
  li:nth-child(7) {
    left: 135px;
    top: 80px;
    width: 9.375px;
    height: 9.375px;
    box-shadow: inset 2.4px -0.8px 0 0px #414043;

    @media screen and (max-width: 764px) {
      width: 6.25px;
      height: 6.25px;
      left: 90px;
      top: 55px;
    }
  }
  
  // SHIP
  .ship {
    position: absolute;
    right: 50%;
    top: 50%;
    margin-top: -55px;
    margin-right: -55px;
    height: 22px;
    background: rgba(0,0,0,.1);
    transform-origin: 0% 100% 0;
    z-index: 1;
    animation: ship $timing $curve2 infinite;

    @media screen and (max-width: 764px) {
      animation: ship-mobile $timing $curve2 infinite;
    }
    
    .ship-rotate {
      position: absolute;
      height: 22px;
      transform: rotate(-110deg);
      animation: ship-rotate $timing $curve2 infinite;
    }    
    .pod {
      position: absolute;
      top: 0;
      left: -8px;
      height: 16px;
      width: 16px;
      background: $ship;
      border-radius: 100% 0 100% 0;
      transform: rotate(-45deg);
    }
    .fuselage {
      position: absolute;
      top: 14px;
      left: -6px;
      height: 8px;
      width: 12px;
      background: $ship;
      border-radius: 100% 100% 0 0;
      
      &:after {
        content: "";
        position: absolute;
        left: 2px;
        top: 100%;
        width: 0;
        height: 0;
        border-left: 4px solid transparent;
        border-right: 4px solid transparent;
        border-top: 6px solid red;
      }
    }
  }
  @keyframes ship {
    0% {
      right: -10%;
      top: -10%;
      margin-top: -55px;
      margin-right: -55px;
    }
    40% {
      right: 61.8%;
      top: 33%;
    }
    79.5% {    
      margin-top: -55px;
      margin-right: -55px;
    }
    84% {
      margin-top: -20px;
      margin-right: 0px;
    }
    100% {
      right: 61.8%;
      top: 33%;
      margin-top: 0px;
      margin-right: 0px;
    }
  }

  @keyframes ship-mobile {
    0% {
      right: -10%;
      top: -10%;
      margin-top: -55px;
      margin-right: -55px;
    }
    40% {
      right: 57.8%;
      top: 38%;
    }
    79.5% {    
      margin-top: -55px;
      margin-right: -55px;
    }
    84% {
      margin-top: -20px;
      margin-right: 0px;
    }
    100% {
      right: 57.8%;
      top: 38%;
      margin-top: 0px;
      margin-right: 0px;
    }
  }
  
  @keyframes ship-rotate {
    0%   { transform: rotate(-110deg); }
    20%  { transform: rotate(-110deg); }
    34%  { transform: rotate(47deg); }  
    79%  { transform: rotate(47deg); } 
    100%  { transform: rotate(47deg); }
  }

  // FLAG & SMALL TENTACLE
  .flag {
    position: absolute;
    height: 17px;
    width: 15px;
    top: 145px;
    right: 730px;
    animation: flag-pole $timing $curve2 infinite;
    @media screen and (max-width: 764px) {
      top: 84px;
      right: 435px;
      animation: flag-pole-mobile $timing $curve2 infinite;
    }
    
    &:before {
      content: "";
      position: absolute;
      height: 17px;
      width: 2px;
      background: #eee;
    }      
    &:after {
      content: "";
      position: absolute;
      height: 10px;
      width: 14px;
      left: 2px;
      top: 0;
      background: $gray;
      animation: flag-unfurl $timing $curve2 infinite;
    }
    .small-tentacle {
      position: absolute;
      left: -16px;
      top: 3px;
      height: 50px;
      width: 50px;
      border-left: 10px solid $alien;
      border-radius: 100%;
      transform: rotate(25deg);
      animation: small-tentacle $timing $curve2 infinite;
      z-index: 2;
    }
  }
  @keyframes flag-pole-mobile {
    0%   { top: 104px; }
    48%  { top: 104px; }
    54%  { top: 84px; }
    90%  { top: 84px; }
    92%  { top: 104px; }
    100% { top: 104px; }
  }

  @keyframes flag-pole {
    0%   { top: 145px; }
    48%  { top: 145px; }
    54%  { top: 124px; }
    90%  { top: 124px; }
    92%  { top: 145px; }
    100% { top: 145px; }
  }
  
  @keyframes flag-unfurl {
    0%   { width: 0; }
    55%  { width: 0; }
    60%  { width: 14px; }
    90%  { width: 14px; }
    100% { width: 14px; }
  }    
  @keyframes small-tentacle {
    0%   { transform: rotate(-60deg); }
    86%  { transform: rotate(-60deg); }
    89%  { transform: rotate(10deg); }
    100% { transform: rotate(10deg); }
  }

  // TENTACLE
  .tentacle {
    position: absolute;
    top: 146px;
    right: 655px;
    z-index: 1;
    height: 70px;
    width: 70px;
    box-sizing: border-box;
    border-radius: 100%;
    border-left: 15px solid $alien;
    transform: rotate(-30deg);
    z-index: 2;
    animation: tentacle $timing $curve2 infinite;
    @media screen and (max-width: 764px) {
      top: 97px;
      right: 381px;
    }
  }
  @keyframes tentacle {
    0%    { transform: rotate(-30deg); }
    75%   { transform: rotate(-30deg); }
    80%   { transform: rotate(-165deg) translate(6px, 8px); }
    82.5% { transform: rotate(-165deg) translate(28px, -17px); }
    100%  { transform: rotate(-165deg) translate(35px, -22px); }
  }
}

.windmill {
  height: 0;
  width: 1.25em;
  border-bottom: 2.37em solid #09252C;
  border-left: 0.15em solid transparent;
  border-right: 0.15em solid transparent;
  position: absolute;
  right: 31.5em;
  bottom: 5.87em;
  z-index: 2;
  @media screen and (max-width: 764px) {
    right: 14em;
    bottom: 2.20em;
  }
}
.windmill:after {
  position: absolute;
  content: "";
  background-color: #041524;
  height: 0.62em;
  width: 1.25em;
  bottom: -0.06em;
  border-radius: 1.25em 1.25em 0 0;
}
.windmill:before {
  content: "";
  position: absolute;
  width: 1.5em;
  height: 0;
  border-bottom: 0.37em solid #0b2231;
  border-left: 0.06em solid transparent;
  border-right: 0.06em solid transparent;
  position: absolute;
  right: -0.2em;
  top: 0.06em;
}
.light {
  height: 0.25em;
  width: 0.25em;
  background-color: #8daf76;
  position: absolute;
  top: 0.75em;
  left: 0.5em;
  border-radius: 50%;
  box-shadow: 0 0 0.06em 0.12em rgba(141, 175, 118, 0.3),
    0 0 0.06em 0.25em rgba(141, 175, 118, 0.2);
}
.light:before {
  content: "";
  position: absolute;
  background-color: #0f304f;
  height: 0.5em;
  width: 0.5em;
  bottom: -1.25em;
  left: -0.12em;
  border-radius: 0.25em 0.25em 0 0;
}
.blades {
  height: 3.75em;
  width: 3.75em;
  position: absolute;
  bottom: -1.9em;
  left: -1.25em;
  animation: spin 5s infinite linear;
  z-index: 2;
}
@keyframes spin {
  100% {
    transform: rotate(360deg);
  }
}
.blades:before {
  position: absolute;
  content: "";
  height: 100%;
  width: 0.5em;
  background-color: #0C313A;
  left: 1.62em;
}
.blades:after {
  position: absolute;
  content: "";
  height: 100%;
  width: 0.5em;
  background-color: #0C313A;
  left: 1.62em;
  transform: rotate(90deg);
}

@keyframes twinkle {
  50% {
    opacity: 1;
  }
}

.shooting-star {
  height: 0.18em;
  width: 2.5em;
  background-color: #ffffff;
  transform: rotate(-30deg);
  position: absolute;
  right: -0.62em;
  opacity: 0.8;
  filter: blur(2px) brightness(10);
  animation: shooting-str 5s infinite;

  @media screen and (max-width: 764px) {
    top: 0;
    right: -4.62em;
  }
}
@keyframes shooting-str {
  10% {
    transform: rotate(-30deg) translate(-64em, 0);
  }
  100% {
    transform: rotate(-30deg) translate(-64em, 0);
  }
}